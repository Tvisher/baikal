document.addEventListener("DOMContentLoaded", (function () { function e(e, t, o) { let n = e.closest(t).querySelector(o); if (n.classList.contains("show")) n.style.height = "0px", n.addEventListener("transitionend", (function () { n.classList.remove("show"), e.classList.remove("open") }), { once: !0 }), e.classList.remove("open"); else { e.classList.add("open"), n.classList.add("show"), n.style.height = "auto"; let t = n.clientHeight + "px"; n.style.height = "0px", setTimeout((function () { n.style.height = t }), 100) } } let t = document.querySelectorAll(".toggle-content__elem_title"); if (t) for (let o = 0; o < t.length; o++) { const n = t[o]; n.addEventListener("click", (function (t) { window.innerWidth <= 576 && !document.querySelector("#all-tours") && e(n, ".toggle-content__elem", ".toggle-content__elem_block"), window.innerWidth <= 768 && document.querySelector("#all-tours") && e(n, ".toggle-content__elem", ".toggle-content__elem_block") })) } const o = document.querySelector(".all-tour__offer .offer__title"); o && (o.onclick = function () { window.innerWidth <= 576 && document.querySelector("#all-tours") && e(o, ".all-tour__offer ", ".offer__list") }); const n = document.querySelector(".mobile_menu"), s = document.querySelector(".search__panel"); function c(e) { return e.id ? $(`<div class="option_variant">\n                 <h5>${e.element.value}</h5>\n                 <span>${e.element.dataset.amount}</span>\n            </div>`) : e.text } function r(e) { return e.id ? e.element.value : e.text } document.addEventListener("click", (function (e) { e.target.closest(".to_top_btn") && document.body.scrollIntoView({ behavior: "smooth", block: "start" }) })), document.addEventListener("click", (function (e) { const t = event.target.closest(".header__search"), o = event.target.closest(".mobile__search"), n = event.target.closest(".search__close"), c = document.querySelector(".header__bg"), r = document.querySelector("#header").clientHeight; (t || o) && (s.classList.add("show"), c && (s.style.maxHeight = r + "px")), n && s.classList.contains("show") && s.classList.remove("show") })), document.addEventListener("click", (function (e) { const t = event.target.closest(".burger_menu"), o = event.target.closest(".mobile__close"); t && (n.classList.add("show"), document.body.style.overflow = "hidden"), o && n.classList.contains("show") && (n.classList.remove("show"), document.body.style.overflow = "") })), document.addEventListener("keydown", (function (e) { n.classList.contains("show") && "Escape" === e.key && (n.classList.remove("show"), document.body.style.overflow = ""), s.classList.contains("show") && "Escape" === e.key && s.classList.remove("show") })), document.addEventListener("click", (function (e) { const t = e.target.closest(".galery__thumb"); if (t) { const e = t.closest(".galery"); t.closest(".galery__thumbs").querySelector(".galery__thumb.active").classList.remove("active"), t.classList.add("active"); const o = t.querySelector("picture"), n = o.querySelector("img").dataset.largesrc, s = o.querySelector("source").srcset, c = e.querySelector(".galery__large_image_wrapper picture"), r = c.querySelector("img"), i = c.querySelector("source"); r.src = n, i && s && (i.srcset = s) } })), document.addEventListener("mouseover", (function (e) { const t = e.target.closest(".filter__choice li"); t && !e.sourceCapabilities.firesTouchEvents && t.classList.add("hover") }), !0), document.addEventListener("mouseout", (function (e) { const t = e.target.closest(".filter__choice li"); t && t.classList.contains("hover") && t.classList.remove("hover") }), !0), document.addEventListener("touchstart", (function (e) { const t = e.target.closest(".filter__choice li"); t && t.classList.remove("hover") })); const i = document.querySelector(".header.tour .header__content .header__desc"); if (i) { const e = document.querySelector(".header.tour .header__content"), t = document.querySelector(".tour-program__absolute_block"); function l() { Math.max(document.documentElement.clientWidth, window.innerWidth || 0) <= 576 ? i.classList.contains("done") || (t.insertBefore(i, t.children[0]), i.classList.add("done")) : i.classList.contains("done") && (e.insertBefore(i, e.children[1]), i.classList.remove("done")) } l(), window.addEventListener("resize", l) } const a = document.querySelector(".dates.jumping"); if (a) { const e = document.querySelector(".right-content-block .left-col"), t = document.querySelector(".right-content-block .right-col"); function d() { Math.max(document.documentElement.clientWidth, window.innerWidth || 0) <= 576 ? a.classList.contains("done") || (t.insertBefore(a, t.children[3]), a.classList.add("done")) : a.classList.contains("done") && (e.insertBefore(a, e.children[2]), a.classList.remove("done")) } d(), window.addEventListener("resize", d) } window.jQuery && ($(document).ready((function () { $("#date-select").select2({ templateResult: c, templateSelection: r, minimumResultsForSearch: 1 / 0 }), $("#amount-select").select2({ minimumResultsForSearch: 1 / 0 }) })), $((function () { $.datepicker.regional.ru = { closeText: "Закрыть", prevText: "Предыдущий", nextText: "Следующий", currentText: "Сегодня", monthNames: ["Январь", "Февраль", "Март", "Апрель", "Май", "Июнь", "Июль", "Август", "Сентябрь", "Октябрь", "Ноябрь", "Декабрь"], monthNamesShort: ["Янв", "Фев", "Мар", "Апр", "Май", "Июн", "Июл", "Авг", "Сен", "Окт", "Ноя", "Дек"], dayNames: ["воскресенье", "понедельник", "вторник", "среда", "четверг", "пятница", "суббота"], dayNamesShort: ["вск", "пнд", "втр", "срд", "чтв", "птн", "сбт"], dayNamesMin: ["Вс", "Пн", "Вт", "Ср", "Чт", "Пт", "Сб"], weekHeader: "Не", dateFormat: "dd.mm.yy", firstDay: 1, isRTL: !1, showMonthAfterYear: !1, yearSuffix: "" }, $.datepicker.setDefaults($.datepicker.regional.ru), $(".calendar__from").datepicker({ showOn: "button", buttonImage: "./img/calendar-icon.png", buttonImageOnly: !0 }), $(".calendar__to").datepicker({ showOn: "button", buttonImage: "./img/calendar-icon.png", buttonImageOnly: !0 }) }))); const u = document.querySelector(".roadmap__img"); if (u) { u.querySelector("img").addEventListener("load", () => { const e = u.scrollWidth / 6; u.scrollLeft += e }) } }));